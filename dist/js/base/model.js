define([],function(){var e=Backbone.Model.extend({constructor:function(e,t){var n=this;t&&t.defaults&&(n.defaults=t.defaults),t||(n.options={}),Backbone.Model.apply(n,arguments)},is:function(e){return this.get(e)===!0},isNot:function(e){return this.get(e)===!1},isEqual:function(e,t){return this.get(e)===t},isNotEqual:function(e,t){return this.get(e)!==t},removeSelf:function(){this.collection&&this.collection.remove(this)},insertAfter:function(e){var t=this.collection,n=t.indexOf(this);return t.add(e,{at:n+1}),t.at(n+1)},isDefault:function(e,t){return this.defaults[e]===t},setDefault:function(e,t){this.defaults[e]=t},next:function(){var e=this.collection;if(!e)return;var t=e.indexOf(this);if(t===e.length-1)return;return e.at(t+1)},index:function(){var e=this.collection;return e?e.indexOf(this):0},moveUp:function(){var e=this.collection;if(!e)return;var t=e.indexOf(this);if(t===0)return;this.removeSelf(),e.add(this,{at:t-1})},moveDown:function(){var e=this.collection;if(!e)return;var t=e.indexOf(this);if(t===e.length-1)return;this.removeSelf(),e.add(this,{at:t+1})},getClosest:function(){var e=this.collection;if(!e||e.length<2)return;var t=e.indexOf(this),n=e.at(t-1);return n?n:e.at(t+1)},toJSON:function(e){var t=_.clone(this.attributes);return e&&_.each(t,function(e,n){e.toJSON&&(t[n]=e.toJSON())}),t},serializeForSave:function(){var e=_.clone(this.attributes);return clearTMPIds(e)},checkFilters:function(e){if(e.length===0)return!0;var n=this,r=n.toJSON(),i=_.every(e,function(e){return t[e.expr].call(n,e,r[e.column])});return i},getOption:function(e){return this.options[e]||this[e]}}),t={eq:function(e,t){return e.value===t},startsWith:function(e,t){return(new RegExp("^"+e.value,"i")).test(t)},endsWith:function(e,t){return(new RegExp(e.value+"$","i")).test(t)},has:function(e,t){return(new RegExp(e.value,"i")).test(t)}};return e});