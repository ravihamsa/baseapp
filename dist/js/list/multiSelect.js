define(["base","list/singleSelect"],function(e,t){function i(e,t){t.selected=[],t.coll=e.get("items"),t.coll||(t.coll=new ItemCollection,e.set("items",t.coll)),e.getSelected=function(){return t.selected},e.setSelectedById=function(n){var r=t.coll.get(n);r.toggleSelect(),e.updateSelected()},e.setSelected=function(e){e.toggleSelect(),updateSelected()},e.selectAll=function(){t.coll.each(function(e){e.select()}),updateSelected()},e.selectNone=function(){t.coll.each(function(e){e.deselect()}),e.updateSelected()},e.updateSelected=function(){t.selected=t.coll.where({selected:!0}),e.set("selectedCount",t.selected.length)},e.updateSelected()}var n=[i],r=e.Model.extend({constructor:function(t){var r=this;e.Model.call(r,t),_.each(n,function(e){e(r,{})})}});return{View:t.View,Model:r,ItemView:t.ItemView,ItemCollection:t.ItemCollection}});